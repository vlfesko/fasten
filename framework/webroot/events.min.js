// written by Dean Edwards, 2005
// with input from Tino Zijdel, Matthias Miller, Diego Perini
// http://dean.edwards.php_function_name/weblog/2005/10/add-event/
function addEvent(a, b, c) {
    if (a.addEventListener) {
        a.addEventListener(b, c, false)
    } else {
        if (!c.$$guid) {
            c.$$guid = addEvent.guid++
        }
        if (!a.events) {
            a.events = {}
        }
        var d = a.events[b];
        if (!d) {
            d = a.events[b] = {};
            if (a["on" + b]) {
                d[0] = a["on" + b]
            }
        }
        d[c.$$guid] = c;
        a["on" + b] = handleEvent
    }
}
addEvent.guid = 1;
function removeEvent(a, b, c) {
    if (a.removeEventListener) {
        a.removeEventListener(b, c, false)
    } else {
        if (a.events && a.events[b]) {
            delete a.events[b][c.$$guid]
        }
    }
}
function handleEvent(a) {
    var b = true;
    a = a || fixEvent(((this.ownerDocument || this.document || this).parentWindow || window).event);
    var c = this.events[a.type];
    for (var i in c) {
        this.$$handleEvent = c[i];
        if (this.$$handleEvent(a) === false) {
            b = false
        }
    }
    return b
}
function fixEvent(a) {
    a.preventDefault = fixEvent.preventDefault;
    a.stopPropagation = fixEvent.stopPropagation;
    return a
}
fixEvent.preventDefault = function () {
    this.returnValue = false
};
fixEvent.stopPropagation = function () {
    this.cancelBubble = true
};